<script src="admin-user-manager-app/js/edit_user.js"></script>

<style>
    h1, h2 {
        text-align: center;
    }
</style>

<div ng-controller="edit_user">
	<h1>Edit User</h1>
	<jqx-grid id="jqxGrid" jqx-create="createWidget" jqx-settings="gridSettings"></jqx-grid>
	
	<div style="font-family: Verdana; font-size: 13px; width: 350px;">
		<form jqx-validator jqx-settings="validatorSettings" id="testForm" 
			jqx-on-validation-success="editUser()" style="overflow: hidden; margin: 10px;">
			<table class="register-table">
				<tr>
					<td colspan="2">First Name</td>
				</tr>
				<tr>
					<td>
						<jqx-input jqx-width="300" jqx-height="20" ng-model="user.firstName" id="firstNameInput"/>
					</td>
				</tr>
				
				<tr>
					<td colspan="2">Last Name</td>
				</tr>
				<tr>
					<td>
						<jqx-input jqx-width="300" jqx-height="20" ng-model="user.lastName" id="lastNameInput"/>
					</td>
				</tr>
				
				<tr>
					<td colspan="2">Email</td>
				</tr>
				<tr>
					<td colspan="2">
						<jqx-input jqx-width="300" jqx-height="20" ng-model="user.email" id="emailInput"/>
					</td>
				</tr>
				
				<tr>
					<td colspan="2">Profiles</td>
				</tr>
				<tr>
					<td colspan="2">
						<div ng-repeat="profile in profiles | orderBy:'name'">
							<input type="checkbox" ng-model="user.profiles[profile.profileId]" ng-true-value="{{profile}}" ng-false-value="{{undefined}}" /> {{profile.name}}
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<jqx-button ng-click="validate()">Save</jqx-button>
					</td>
				</tr>
			</table>
		</form>

        <h2>Update Password</h2>
        <form jqx-validator jqx-settings="passwordValidatorSettings" jqx-on-validation-success="updatePassword()" style="overflow: hidden">
            <p>Old password</p>
            <jqx-input jqx-width="300" jqx-height="20" id="oldPasswordInput" />
            <p>New password</p>
            <jqx-input jqx-width="300" jqx-height="20" id="newPasswordInput" />
            <p>Confirm your new password</p>
            <jqx-input jqx-width="300" jqx-height="20" id="confirmPasswordInput" />
            <br>
            <jqx-button ng-click="validatePassword()">Save</jqx-button>
        </form>
	</div>
</div>